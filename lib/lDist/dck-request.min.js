!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dckRequest=t():e.dckRequest=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=r(1);const o=(e={})=>{const t=new n.default(e),r=n.default.prototype.request.bind(t);return Object.keys(t).forEach(e=>{r[e]=t[e]}),r},u=o();u.create=e=>o(e),t.default=u},function(e,t,r){"use strict";r.r(t);var n=r(2),o=r(3);class u{static mergeConfig(e,t){const r=["url","baseURL","data","params","header","method","timeout","dataType","responseType","sslVerify","complete","customData"];["baseURL","timeout"].forEach(r=>{!e[r]&&t[r]&&(e[r]=t[r])});const n={};return Object.keys(e).filter(e=>r.includes(e)).forEach(t=>{n[t]=e[t]}),n.method=n.method||"get",n.params=n.params||{},n.data=n.data||{},n}constructor(e={}){this.defaultConfig=e,this.interceptors={request:new n.default,response:new n.default}}request(e={}){e=u.mergeConfig(e,this.defaultConfig);const t=[o.default,void 0];let r=Promise.resolve(e);for(this.interceptors.request.handlers.forEach(e=>{t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.handlers.forEach(e=>{t.push(e.fulfilled,e.rejected)});t.length>0;)r=r.then(t.shift(),t.shift());return r}}t.default=u},function(e,t,r){"use strict";r.r(t);t.default=class{constructor(){this.handlers=[]}use(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}forEach(e){this.handlers.forEach(t=>{t&&e(t)})}}},function(e,t,r){"use strict";r.r(t);var n=r(4);t.default=e=>{const{baseURL:t="",url:r,params:o}=e;return new Promise((u,s)=>{uni.request({...e,url:t+r+Object(n.paramsToSearch)(o),complete(t){const{errMsg:r}=t;if("request:ok"===r){const{statusCode:o,data:a,headers:c}=t,i={status:o,data:a,statusText:r,headers:c,config:e};Object(n.validateStatus)(o)?u(i):s(Object(n.createError)("Request failed with status code "+o,e,i))}else s("request:fail timeout"===r?Object(n.createError)(`timeout of ${e.timeout||3e4} ms exceeded`,e,null):Object(n.createError)("request:fail",e,null))}})})}},function(e,t,r){"use strict";r.r(t),r.d(t,"paramsToSearch",(function(){return u})),r.d(t,"validateStatus",(function(){return s})),r.d(t,"createError",(function(){return a}));var n=r(5);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}const u=e=>{let t="";if(!e||!n.default.isObject(e))return t;const r=[];return n.default.forEach(e,(e,t)=>{n.default.isEmpty(e)||(n.default.isArray(e)?t+="[]":e=[e],n.default.forEach(e,e=>{n.default.isDate(e)?e=e.toISOString():n.default.isObject(e)&&(e=JSON.stringify(e)),r.push(o(t)+"="+o(e))}))}),t+=r.join("&"),t=(r.length?"?":"")+t,t},s=e=>e>=200&&e<300,a=(e,t,r)=>{const n=new Error(e);return n.config=t,n.response=r,n}},function(e,t,r){"use strict";function n(e){return"[object Array]"===toString.call(e)}function o(e){return null==e}r.r(t),t.default={isDate:function(e){return"[object Date]"===toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isArray:n,isEmpty:o,forEach:function(e,t){if(!o(e))if("object"!=typeof e&&(e=[e]),n(e))for(let r=0,n=e.length;r<n;r++)t(e[r],r,e);else for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}}}]).default}));